(this["webpackJsonpchainlink-prediction-market"]=this["webpackJsonpchainlink-prediction-market"]||[]).push([[0],{35:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"bool","name":"_isLessRisky","type":"bool"},{"internalType":"string","name":"_question","type":"string"},{"internalType":"uint256[]","name":"_options","type":"uint256[]"},{"internalType":"uint8","name":"_optionsCount","type":"uint8"},{"internalType":"string","name":"_resultApi","type":"string"},{"internalType":"string","name":"_resultPath","type":"string"},{"internalType":"uint256","name":"_marketCloseTimestamp","type":"uint256"},{"internalType":"uint256","name":"_predictionCloseTimestamp","type":"uint256"},{"internalType":"bool","name":"_isConditionalMarket","type":"bool"},{"internalType":"string","name":"_conditionType","type":"string"},{"internalType":"uint256","name":"_conditionValue","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"AaveLend","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkFulfilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"","type":"uint256"},{"indexed":false,"internalType":"bool","name":"","type":"bool"}],"name":"MarketResolved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"NewPrediction","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"amountStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"conditionType","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"conditionValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_requestId","type":"bytes32"},{"internalType":"uint256","name":"_data","type":"uint256"}],"name":"fulfill","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getATokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBorrowRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getConditionalMarketResult","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDAIBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLendingRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getRewardAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAlreadyWithdrawn","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isConditionalMarket","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isLessRisky","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isMarketResolved","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isStakedOnAave","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lendOnAave","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_prediction","type":"uint256"},{"internalType":"uint256","name":"_stakeAmount","type":"uint256"}],"name":"makePrediction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"marketCloseTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"options","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"optionsCount","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"prediction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"predictionCloseTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"predictionResult","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"question","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"resolveMarket","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"resultApi","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"resultPath","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenWithInterest","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAmountStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"uniquePredictionValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},54:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},62:function(e,t,n){e.exports=n(76)},67:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(18),l=n.n(r),s=(n(67),n(68),n(28)),u=n(7),o=(0,n(15).createBrowserHistory)(),c=n(11),p=n.n(c),m=n(12),d=n(20),y=n(10),b=n(86),f=n(81),v=n(56),E=n(52),g=n(82),k=n(83),T=n(59),x=n(85),h=n(16),w=n(84);function A(e){var t=e.open,n=e.toggle,a=e.children;return i.a.createElement(w.a,{show:t,onHide:n,animation:!1},i.a.createElement(w.a.Header,{closeButton:!0},i.a.createElement(w.a.Title,null,"Opps!! Error...")),i.a.createElement(w.a.Body,null,a),i.a.createElement(w.a.Footer,null,i.a.createElement(E.a,{variant:"danger",onClick:n},"Ok")))}function M(e){var t=e.open,n=e.toggle,a=e.children,r=e.onConfirm;return i.a.createElement(w.a,{show:t,onHide:n,animation:!1},i.a.createElement(w.a.Header,{closeButton:!0},i.a.createElement(w.a.Title,null,"Notification")),i.a.createElement(w.a.Body,null,a),i.a.createElement(w.a.Footer,null,i.a.createElement(E.a,{variant:"success",onClick:function(){n(),r()}},"Ok")))}var C=n(53),O=n.n(C);function S(){return i.a.createElement("div",{className:"d-flex justify-content-center mt-5 g-pt-90",style:{height:"-webkit-fill-available"}},i.a.createElement(O.a,{type:"spin",color:"#343a40",height:"8%",width:"8%"}))}var N=n(35),j=n(54);function R(){var e=Object(a.useState)({msg:"",open:!1}),t=Object(y.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)({msg:"",open:!1}),s=Object(y.a)(l,2),c=s[0],w=s[1],C=Object(a.useState)({prediction:"",amount:""}),O=Object(y.a)(C,2),R=O[0],W=O[1],D=Object(a.useState)(!0),F=Object(y.a)(D,2),B=F[0],P=F[1],_=Object(a.useState)(!1),I=Object(y.a)(_,2),L=I[0],q=I[1],Y=Object(a.useState)(!1),z=Object(y.a)(Y,2),V=z[0],H=z[1],J=Object(a.useState)(!1),G=Object(y.a)(J,2),U=G[0],Z=G[1],K=Object(a.useState)(!1),Q=Object(y.a)(K,2),X=Q[0],$=Q[1],ee=Object(a.useState)(!1),te=Object(y.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(!1),re=Object(y.a)(ie,2),le=re[0],se=re[1],ue=Object(a.useState)(""),oe=Object(y.a)(ue,2),ce=oe[0],pe=oe[1],me=Object(a.useState)(""),de=Object(y.a)(me,2),ye=de[0],be=de[1],fe=Object(u.f)().pmContractAddress,ve=Object(a.useState)({totalAmountStaked:"",question:"",resultApi:"",predictionCloseTimestamp:"",marketCloseTimestamp:"",isLessRisky:!1,outcomes:[],predictionResult:"",isMarketResolved:!1,isAlreadyWithdrawn:!1,rewardAmount:"",isStakedOnAave:!1,isConditionalMarket:!1,chainlinkResult:""}),Ee=Object(y.a)(ve,2),ge=Ee[0],ke=Ee[1],Te=Object(a.useState)([]),xe=Object(y.a)(Te,1)[0],he=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a,i,r,l,s,u,o,c,d,y,b,f,v,E,g,k,T,x,w,A,M,C,O,S;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum,e.next=3,t.enable();case 3:return n=new h.ethers.providers.Web3Provider(t),a=n.getSigner(),e.next=7,a.getAddress();case 7:return i=e.sent,r=new h.ethers.Contract(fe,N,a),pe(n),be(r),e.next=13,r.question();case 13:return l=e.sent,e.next=16,r.resultApi();case 16:return s=e.sent,e.next=19,r.isLessRisky();case 19:return u=e.sent,e.next=22,r.optionsCount();case 22:return o=e.sent,e.next=25,r.totalAmountStaked();case 25:return c=e.sent,e.next=28,r.marketCloseTimestamp();case 28:return d=e.sent,e.next=31,r.predictionCloseTimestamp();case 31:return y=e.sent,e.next=34,r.isConditionalMarket();case 34:b=e.sent,f=[],v=b?2:o,E=0;case 38:if(!(E<v)){e.next=49;break}return e.next=41,r.options(E);case 41:return g=e.sent,e.next=44,r.uniquePredictionValue(Number(g));case 44:k=e.sent,f.push({outcome:Me(b,g),amountStaked:h.ethers.utils.formatEther(k)});case 46:E++,e.next=38;break;case 49:return e.next=51,r.prediction(i);case 51:if(x=e.sent,!(Number(x)>=0)){e.next=58;break}return e.t0=h.ethers.utils,e.next=56,r.amountStaked(a.getAddress());case 56:e.t1=e.sent,T=e.t0.formatEther.call(e.t0,e.t1);case 58:if(xe.push({prediction:Me(b,x),stakeAmount:T}),!(Ne()>Number(d))){e.next=84;break}return e.next=62,r.predictionResult();case 62:return A=e.sent,e.next=65,r.isMarketResolved();case 65:if(M=e.sent,b){e.next=70;break}w=Number(A),e.next=75;break;case 70:if(!M){e.next=75;break}return e.next=73,r.getConditionalMarketResult();case 73:w=(w=e.sent)?"Yes":"No";case 75:return e.next=77,r.isAlreadyWithdrawn(i);case 77:if(C=e.sent,!M){e.next=84;break}return e.t2=h.ethers.utils,e.next=82,r.getRewardAmount(i);case 82:e.t3=e.sent,O=e.t2.formatEther.call(e.t2,e.t3);case 84:if(!(Ne()>Number(y))){e.next=88;break}return e.next=87,r.isStakedOnAave();case 87:S=e.sent;case 88:ke(Object(m.a)(Object(m.a)({},ge),{},{question:l,isLessRisky:u,outcomes:f,totalAmountStaked:h.ethers.utils.formatEther(c),marketCloseTimestamp:Number(d),predictionCloseTimestamp:Number(y),predictionResult:w,isMarketResolved:M,isAlreadyWithdrawn:C,rewardAmount:O,isStakedOnAave:S,resultApi:s,isConditionalMarket:b,chainlinkResult:A})),P(!1);case 90:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new h.ethers.Contract("0xFf795577d9AC8bD7D90Ee22b6C1703490b6512FD",j,ce.getSigner()),H(!0),e.next=5,n.approve(fe,t);case 5:return a=e.sent,e.next=8,ce.waitForTransaction(a.hash);case 8:H(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),H(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Number(h.ethers.utils.parseEther(R.amount)).toString(10),e.next=4,we(t);case 4:return ae(!0),ge.isConditionalMarket?"Yes"===R.prediction?n=100:"No"===R.prediction&&(n=1):n=R.prediction,e.next=8,ye.makePrediction(n,t);case 8:return a=e.sent,e.next=11,ce.waitForTransaction(a.hash);case 11:ae(!1),w({open:!0,msg:"Congratulations !! You have successfully made your prediction !!"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),ae(!1),r({open:!0,msg:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),Me=function(e,t){var n;return e?100===Number(t)?n="Yes":1===Number(t)&&(n="No"):n=Number(t),n},Ce=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.lendOnAave();case 3:return t=e.sent,Z(!0),e.next=7,ce.waitForTransaction(t.hash);case 7:Z(!1),w({open:!0,msg:"Succesfully deposited Staked DAI to Aave !!"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Z(!1),r({open:!0,msg:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.resolveMarket();case 3:return t=e.sent,$(!0),e.next=7,ce.waitForTransaction(t.hash);case 7:$(!1),w({open:!0,msg:"Congratulations !! You successfully resolved the Market !!"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),$(!1),r({open:!0,msg:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,ye.withdrawReward();case 4:return t=e.sent,e.next=7,ce.waitForTransaction(t.hash);case 7:q(!1),w({open:!0,msg:"Congratulations !! Your have successfully recieved your reward !!"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),q(!1),r({open:!0,msg:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){return Math.floor((new Date).getTime()/1e3)},je=function(e){var t=new Date(1e3*e).toISOString().replace("Z"," ").replace("T"," "),n=t.indexOf(".");return t.substring(0,n)+" UTC"};return Object(a.useEffect)((function(){""===ge.totalAmountStaked&&he()}),[]),B?i.a.createElement(S,null):i.a.createElement("div",{style:{width:"100%",marginBottom:"70px"}},i.a.createElement(b.a,{className:"mx-auto form-card "},i.a.createElement(b.a.Body,{style:{textAlign:"left"}},i.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold",fontSize:"1.5rem",marginBottom:"30px"}},i.a.createElement("u",null,ge.question)),i.a.createElement(f.a,{style:{paddingBottom:"20px"}},i.a.createElement(v.a,null,i.a.createElement("u",{style:{fontWeight:"bold"}},"Prediction Close"),i.a.createElement("span",{className:"float-right"},je(ge.predictionCloseTimestamp))),i.a.createElement(v.a,null,i.a.createElement("u",{style:{fontWeight:"bold"}},"Market Close"),i.a.createElement("span",{className:"float-right"},je(ge.marketCloseTimestamp)))),i.a.createElement(f.a,{style:{paddingBottom:"30px"}},i.a.createElement(v.a,null,i.a.createElement("u",{style:{fontWeight:"bold"}},"Total Staked"),i.a.createElement("span",{className:"float-right"},ge.totalAmountStaked," DAI")),i.a.createElement(v.a,null,i.a.createElement("u",{style:{fontWeight:"bold"}},"Market Type"),i.a.createElement("span",{className:"float-right"},ge.isLessRisky?i.a.createElement("strong",null,"No Loss Market"):i.a.createElement("strong",null,"Normal Market")))),i.a.createElement(f.a,{style:{paddingBottom:"10px",textAlign:"center"}},i.a.createElement(v.a,null,Ne()>Number(ge.predictionCloseTimestamp)?i.a.createElement("span",null,i.a.createElement("strong",null,"Result API: ")):null,i.a.createElement("a",{href:ge.resultApi,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("span",null," ",ge.resultApi)))),Ne()<Number(ge.predictionCloseTimestamp)?i.a.createElement("div",{className:"mx-auto",style:{width:"84%",textAlign:"center",color:"red"}},"* Only invest if you trust above API, This will be used for fetching result at the time of resolving the market."):null,ge.isMarketResolved?i.a.createElement(f.a,{style:{paddingTop:"10px",paddingBottom:"10px",textAlign:"center",fontWeight:"bold",color:"rgb(10, 131, 103)",fontSize:"20px"}},i.a.createElement(v.a,null,i.a.createElement("span",null,"Result: "),i.a.createElement("span",null,ge.predictionResult),ge.isConditionalMarket?i.a.createElement("span",null," (",Number(ge.chainlinkResult),")"):null)):null,i.a.createElement(f.a,null,i.a.createElement(v.a,{className:"text-center"},Ne()>Number(ge.predictionCloseTimestamp)&&!ge.isStakedOnAave&&!ge.isMarketResolved?i.a.createElement(E.a,{variant:"success",onClick:Ce,style:{marginTop:"20px"}},U?i.a.createElement("div",{className:"d-flex align-items-center"},"Depositing",i.a.createElement("span",{className:"loading ml-2"})):i.a.createElement("div",null,"Deposit On Aave")):Ne()>Number(ge.marketCloseTimestamp)&&!ge.isMarketResolved?i.a.createElement(E.a,{variant:"warning",onClick:Oe,style:{marginTop:"20px"}},X?i.a.createElement("div",{className:"d-flex align-items-center"},"Resolving",i.a.createElement("span",{className:"loading ml-2"})):i.a.createElement("div",null,"Resolve Market")):null)),i.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,style:{textAlign:"center",marginTop:"20px",marginBottom:"30px"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Outcome"),i.a.createElement("th",null,"Amount Staked"),i.a.createElement("th",null,"Win Probability"))),i.a.createElement("tbody",null,ge.outcomes.map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.outcome),i.a.createElement("td",null,e.amountStaked," DAI"),i.a.createElement("td",null,Number(ge.totalAmountStaked)<=0?i.a.createElement("div",null,"0 %"):i.a.createElement("div",null,(e.amountStaked/ge.totalAmountStaked*100).toFixed(2)," %")))})))),xe[0].prediction?i.a.createElement(f.a,null,i.a.createElement(v.a,null,i.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold",fontSize:"1.2rem"}},i.a.createElement("u",null,"Your Position")),i.a.createElement("div",{style:{marginBottom:"30px",marginTop:"20px",fontSize:"1.1 rem",color:"green"}},Ne()>Number(ge.marketCloseTimestamp)&&ge.isMarketResolved?i.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold"}},i.a.createElement("span",null,"Reward Earned:"),i.a.createElement("span",null," ",ge.rewardAmount," DAI")):null),i.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,style:{textAlign:"center"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Prediction"),i.a.createElement("th",null,"Amount Staked"),Ne()>Number(ge.marketCloseTimestamp)&&ge.isMarketResolved?i.a.createElement("th",null,"Result"):null)),i.a.createElement("tbody",null,xe.map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.prediction),i.a.createElement("td",null,e.stakeAmount," DAI"),Ne()>Number(ge.marketCloseTimestamp)&&ge.isMarketResolved?i.a.createElement("td",null,ge.predictionResult==e.prediction?i.a.createElement("div",null,i.a.createElement("div",{style:{color:"green"}},"You Won"),ge.isAlreadyWithdrawn?i.a.createElement("div",null,"Already Withdrawn"):i.a.createElement(E.a,{onClick:Se,variant:"outline-success",size:"sm"},L?i.a.createElement("div",{className:"d-flex align-items-center"},"Processing",i.a.createElement("span",{className:"loading ml-2"})):i.a.createElement("div",null,"Get Reward"))):i.a.createElement("div",null,i.a.createElement("div",{style:{color:"red"}},"You Lost"),ge.isLessRisky&&!ge.isAlreadyWithdrawn?i.a.createElement(E.a,{onClick:Se,variant:"outline-success",size:"sm"},L?i.a.createElement("div",null,"Processing",i.a.createElement("span",{className:"loading ml-2"})):i.a.createElement("div",null,"Get Stake")):i.a.createElement("div",null,"Already Withdrawn"))):null)})))))):null,le?i.a.createElement("div",null,i.a.createElement(f.a,null,i.a.createElement(v.a,null,i.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",marginTop:"10px"}},i.a.createElement("u",null,"Create Position")))),i.a.createElement(f.a,null,i.a.createElement(v.a,{style:{textAlign:"center",fontWeight:"bold",paddingTop:"5px"}},"Prediction:"),i.a.createElement(v.a,null,i.a.createElement(k.a,{style:{paddingBottom:"30px",width:"150px"},title:R.prediction,variant:"outline-info",onSelect:function(e){return W(Object(m.a)(Object(m.a)({},R),{},{prediction:e}))}},ge.outcomes.map((function(e,t){return i.a.createElement(T.a.Item,{key:t,eventKey:e.outcome},e.outcome)}))))),i.a.createElement(f.a,null,i.a.createElement(v.a,{style:{textAlign:"center",fontWeight:"bold"}},"Stake Amount:"),i.a.createElement(v.a,null,i.a.createElement(x.a.Control,{className:"mb-4",type:"number",placeholder:"DAI Amount (eg: 1)",onChange:function(e){return W(Object(m.a)(Object(m.a)({},R),{},{amount:e.target.value}))},style:{width:"60%"},value:R.amount,required:!0}))),i.a.createElement(f.a,{className:"text-center"},i.a.createElement(v.a,null,i.a.createElement(E.a,{onClick:Ae,variant:"outline-success"},V?i.a.createElement("div",{className:"d-flex align-items-center"},"Approving",i.a.createElement("span",{className:"loading ml-2"})):ne?i.a.createElement("div",null,"Processing",i.a.createElement("span",{className:"loading ml-2"})):i.a.createElement("div",null,"Submit"))))):null),!le&&Ne()<Number(ge.predictionCloseTimestamp)&&0===Number(xe[0].stakeAmount)?i.a.createElement(b.a.Footer,{className:"text-center",style:{backgroundColor:"#FFFFFF50"}},i.a.createElement(E.a,{onClick:se,variant:"outline-success"},"Want to Predict ?")):null),i.a.createElement(A,{open:n.open,toggle:function(){return r(Object(m.a)(Object(m.a)({},n),{},{open:!1}))}},n.msg),i.a.createElement(M,{open:c.open,toggle:function(){return w(Object(m.a)(Object(m.a)({},c),{},{open:!1}))},onConfirm:function(){o.go(0)}},c.msg))}function W(){var e=Object(a.useState)({msg:"",open:!1}),t=Object(y.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!0),u=Object(y.a)(l,2),o=u[0],c=u[1],E=Object(a.useState)([]),g=Object(y.a)(E,2),k=g[0],T=g[1],x=["0x37e0B7A17F90868F747F7421A3592e32d41FA2d0","0x9D81492176981c6e52eAdEf69926A8Cc927Ba81C","0x7AfE906624a79Fb351dE6340777225bAE65f7bB6","0xdED5a05CccfCef9Af5D9ef70ABf21f1d17D7C107","0xAc5D0F82954A6468Cb1052e891DEC14910ef7DbC"],w=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a,i,l,s,u,o,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],n=window.ethereum,e.next=5,n.enable();case 5:if(a=new h.ethers.providers.Web3Provider(n),!(x.length>0)){e.next=29;break}i=0;case 8:if(!(i<x.length)){e.next=27;break}return l=new h.ethers.Contract(x[i],N,a),e.next=12,l.question();case 12:return s=e.sent,e.next=15,l.isLessRisky();case 15:return u=e.sent,e.next=18,l.totalAmountStaked();case 18:return o=e.sent,e.next=21,l.marketCloseTimestamp();case 21:m=e.sent,t.push({contractAddress:x[i],question:s,isLessRisky:u,totalAmountStaked:h.ethers.utils.formatEther(o),marketCloseTimestamp:m}),i===x.length-1&&(T(t),c(!1));case 24:i++,e.next=8;break;case 27:e.next=30;break;case 29:c(!1);case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),r({open:!0,msg:e.t0.message});case 35:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){0===k.length&&w()}),[]),o?i.a.createElement(S,null):i.a.createElement("div",null,i.a.createElement("p",{style:{marginTop:"3%",textAlign:"center",fontWeight:"bold",fontSize:"1.5rem"}},i.a.createElement("u",null,"Available Markets")),k.map((function(e,t){return i.a.createElement(s.b,{key:t,style:{textDecoration:"none"},to:"/market/".concat(e.contractAddress)},i.a.createElement(b.a,{className:"mx-auto market-card",key:t},i.a.createElement(b.a.Body,null,i.a.createElement(f.a,null,i.a.createElement(v.a,null,i.a.createElement("strong",null,e.question))),i.a.createElement(f.a,{style:{marginTop:"20px"}},i.a.createElement(v.a,null,e.isLessRisky?i.a.createElement("div",null,"No Loss Market"):i.a.createElement("div",null,"Normal Market")),i.a.createElement(v.a,{className:"vertical-line"},e.totalAmountStaked," DAI - Total Stake"),i.a.createElement(v.a,{className:"vertical-line"},e.marketCloseTimestamp>Math.floor((new Date).getTime()/1e3)?i.a.createElement("div",null,function(e){var t=new Date(1e3*e).toISOString().replace("Z"," ").replace("T"," "),n=t.indexOf(".");return t.substring(0,n)+" UTC"}(e.marketCloseTimestamp)):i.a.createElement("div",null,"Market Closed"))))))})),i.a.createElement(A,{open:n.open,toggle:function(){return r(Object(m.a)(Object(m.a)({},n),{},{open:!1}))}},n.msg))}var D=function(){var e=i.a.createElement(s.a,{basename:"/"},i.a.createElement(u.b,{path:"/",exact:!0},i.a.createElement(W,null)),i.a.createElement(u.b,{path:"/market/:pmContractAddress",exact:!0},i.a.createElement(R,null)),i.a.createElement(u.a,{to:"/"}));return i.a.createElement("div",{className:"App"},i.a.createElement(u.c,{history:o},e))};l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(D,null)),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.a9e820c8.chunk.js.map